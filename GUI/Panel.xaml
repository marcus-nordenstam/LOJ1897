<Grid
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    HorizontalAlignment="Stretch"
    VerticalAlignment="Stretch">

    <Grid.Resources>
        <ResourceDictionary>
            <!-- Style for TextBox with dark background -->
            <Style TargetType="TextBox" BasedOn="{StaticResource {x:Type TextBox}}">
                <Setter Property="TextBox.Background">
                    <Setter.Value>
                        <SolidColorBrush Color="#FF2C2416"/>
                    </Setter.Value>
                </Setter>
                <Setter Property="TextBox.Foreground">
                    <Setter.Value>
                        <SolidColorBrush Color="#FFD4C4A0"/>
                    </Setter.Value>
                </Setter>
                <Setter Property="TextBox.BorderThickness" Value="2"/>
                <Setter Property="TextBox.BorderBrush">
                    <Setter.Value>
                        <SolidColorBrush Color="#FF6B5A3D"/>
                    </Setter.Value>
                </Setter>
                <Setter Property="TextBox.Padding" Value="10,8,10,8"/>
                <Setter Property="TextBox.FontSize" Value="20"/>
                <Setter Property="TextBox.FontFamily" Value="Theme/Fonts/#PT Root UI"/>
            </Style>
            
            <!-- Style for TextBlock labels -->
            <Style TargetType="TextBlock">
                <Setter Property="TextBlock.Foreground">
                    <Setter.Value>
                        <SolidColorBrush Color="#FFD4C4A0"/>
                    </Setter.Value>
                </Setter>
                <Setter Property="TextBlock.FontSize" Value="24"/>
                <Setter Property="TextBlock.FontFamily" Value="Theme/Fonts/#PT Root UI"/>
                <Setter Property="TextBlock.FontWeight" Value="Bold"/>
                <Setter Property="TextBlock.HorizontalAlignment" Value="Center"/>
                <Setter Property="TextBlock.VerticalAlignment" Value="Center"/>
                <Setter Property="TextBlock.Effect">
                    <Setter.Value>
                        <DropShadowEffect Color="Black" BlurRadius="4" ShadowDepth="2" Opacity="0.8"/>
                    </Setter.Value>
                </Setter>
            </Style>
            
            <!-- Style for Button with vintage look -->
            <Style TargetType="Button" BasedOn="{StaticResource {x:Type Button}}">
                <Setter Property="Button.Background">
                    <Setter.Value>
                        <SolidColorBrush Color="#FF4A3C28"/>
                    </Setter.Value>
                </Setter>
                <Setter Property="Button.Foreground">
                    <Setter.Value>
                        <SolidColorBrush Color="#FFD4C4A0"/>
                    </Setter.Value>
                </Setter>
                <Setter Property="Button.BorderThickness" Value="2"/>
                <Setter Property="Button.BorderBrush">
                    <Setter.Value>
                        <SolidColorBrush Color="#FF8B7355"/>
                    </Setter.Value>
                </Setter>
                <Setter Property="Button.FontSize" Value="28"/>
                <Setter Property="Button.FontFamily" Value="Theme/Fonts/#PT Root UI"/>
                <Setter Property="Button.FontWeight" Value="Bold"/>
                <Setter Property="Button.Padding" Value="40,15,40,15"/>
            </Style>
        </ResourceDictionary>
    </Grid.Resources>

    <!-- Menu Container (hidden during gameplay) -->
    <Grid x:Name="MenuContainer">
        <!-- Background with MainMenu.png -->
        <Grid.Background>
            <ImageBrush ImageSource="GUI/MainMenu.png" Stretch="UniformToFill"/>
        </Grid.Background>

        <!-- Main Menu Content - Positioned on the right side -->
        <Grid HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,0,150,0">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>  <!-- Title -->
                <RowDefinition Height="60"/>    <!-- Spacer -->
                <RowDefinition Height="Auto"/>  <!-- Seed Label + Input (horizontal) -->
                <RowDefinition Height="60"/>    <!-- Spacer -->
                <RowDefinition Height="Auto"/>  <!-- Play Button -->
                <RowDefinition Height="20"/>    <!-- Small Spacer -->
                <RowDefinition Height="Auto"/>  <!-- Fullscreen Button -->
            </Grid.RowDefinitions>

            <!-- Game Title -->
            <TextBlock Grid.Row="0"
                       Text="LEGENDS OF JUSTICE: 1897"
                       FontSize="48"
                       FontWeight="Bold"
                       HorizontalAlignment="Center"/>

            <!-- Seed Label + Input (Horizontal) -->
            <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Center">
                <TextBlock Text="History Seed:"
                           FontSize="24"
                           VerticalAlignment="Center"
                           Margin="0,0,15,0"/>
                <TextBox x:Name="SeedTextBox"
                         Width="250"
                         Height="50"
                         VerticalAlignment="Center"
                         TextAlignment="Center"
                         Text="12345"/>
            </StackPanel>

            <!-- Play Game Button -->
            <Button Grid.Row="4"
                    x:Name="PlayGameButton"
                    Content="PLAY GAME"
                    HorizontalAlignment="Center"
                    Cursor="Hand"/>

            <!-- Fullscreen Toggle Button -->
            <Button Grid.Row="6"
                    x:Name="FullscreenButton"
                    Content="FULLSCREEN"
                    HorizontalAlignment="Center"
                    Cursor="Hand"
                    FontSize="20"
                    Padding="30,10,30,10"/>
        </Grid>
    </Grid>

    <!-- Talk Indicator (shown when aiming at NPC, outside MenuContainer) -->
    <StackPanel x:Name="TalkIndicator"
                Orientation="Horizontal"
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                Margin="40,0,0,0"
                Visibility="Collapsed">
        <!-- Black circle with T -->
        <Grid Width="28" Height="28" Margin="0,0,8,0">
            <Ellipse Fill="#E0000000"/>
            <TextBlock Text="T"
                       FontSize="16"
                       FontWeight="Bold"
                       Foreground="White"
                       HorizontalAlignment="Center"
                       VerticalAlignment="Center">
                <TextBlock.Effect>
                    <DropShadowEffect ShadowDepth="0" BlurRadius="0"/>
                </TextBlock.Effect>
            </TextBlock>
        </Grid>
        <!-- Talk text -->
        <TextBlock Text="Talk"
                   FontSize="18"
                   Foreground="White"
                   VerticalAlignment="Center">
            <TextBlock.Effect>
                <DropShadowEffect Color="Black" BlurRadius="3" ShadowDepth="1" Opacity="0.9"/>
            </TextBlock.Effect>
        </TextBlock>
    </StackPanel>

    <!-- Dialogue Panel (shown when talking to NPC) -->
    <Grid x:Name="DialoguePanelRoot"
          HorizontalAlignment="Right"
          VerticalAlignment="Stretch"
          Margin="0,50,50,50"
          Width="600"
          Visibility="Collapsed">

        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Main dialogue area with dark background -->
        <Grid Grid.Row="0">
            <!-- Dark semi-transparent background -->
            <Border Background="#CC000000" CornerRadius="4"/>
            
            <!-- Content overlay -->
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                
                <!-- Dialogue history (scrollable, content at bottom) -->
                <ScrollViewer x:Name="DialogueScrollViewer"
                              Grid.Row="0"
                              VerticalScrollBarVisibility="Auto"
                              HorizontalScrollBarVisibility="Disabled">
                    <Grid MinHeight="{Binding ViewportHeight, RelativeSource={RelativeSource AncestorType=ScrollViewer}}">
                        <StackPanel x:Name="DialogueList" VerticalAlignment="Bottom"/>
                    </Grid>
                </ScrollViewer>
                
                <!-- Input area -->
                <TextBox x:Name="DialogueInput"
                         Grid.Row="1"
                         Background="#FF1A1A1A"
                         Foreground="#FFD4C4A0"
                         BorderThickness="0,1,0,0"
                         BorderBrush="#FF4A4A4A"
                         FontFamily="Theme/Fonts/#PT Root UI"
                         FontSize="16"
                         Padding="14,10,14,10"
                         CaretBrush="#FFD4C4A0"/>
            </Grid>
        </Grid>

        <!-- Hint text area (below the panel) -->
        <TextBlock x:Name="DialogueHintText"
                   Grid.Row="1"
                   FontFamily="Verdana"
                   FontSize="16"
                   Foreground="#FFFFFF00"
                   Margin="0,14,0,0"
                   Visibility="Collapsed"/>

    </Grid>

    <!-- Caseboard Panel (shown when C is pressed during gameplay) -->
    <Grid x:Name="CaseboardPanel"
          HorizontalAlignment="Stretch"
          VerticalAlignment="Stretch"
          Visibility="Collapsed"
          ClipToBounds="True">
        
        <!-- Pannable/Zoomable Content Container -->
        <Canvas x:Name="CaseboardContent" ClipToBounds="False">
            <!-- Transform for pan and zoom -->
            <Canvas.RenderTransform>
                <TransformGroup>
                    <ScaleTransform x:Name="CaseboardZoomTransform" ScaleX="1" ScaleY="1"/>
                    <TranslateTransform x:Name="CaseboardPanTransform" X="0" Y="0"/>
                </TransformGroup>
            </Canvas.RenderTransform>
            
            <!-- Tiled background (moves with pan/zoom) -->
            <!-- Size calculated for 0.2x min zoom: need ~5x viewport coverage in board space -->
            <Rectangle Canvas.Left="-10000" Canvas.Top="-10000" 
                       Width="25000" Height="25000">
                <Rectangle.Fill>
                    <ImageBrush ImageSource="GUI/CaseboardBackground.png"
                                TileMode="Tile"
                                Viewport="0,0,438,358"
                                ViewportUnits="Absolute"
                                Stretch="None"/>
                </Rectangle.Fill>
            </Rectangle>
        
            <!-- Case Cards Container (centered on board origin) -->
            <!-- 6 cards Ã— (180px + 30px margin) = 1260px total width, so Left = -630 to center -->
            <StackPanel x:Name="CaseCardsContainer"
                        Canvas.Left="-630" Canvas.Top="-125"
                        Orientation="Horizontal">
            
                <!-- Case Card: VICTIM -->
                <Image x:Name="CaseCard_Victim"
                       Source="GUI/Cards/ACC_CARD_VICTIM.png"
                       Width="180"
                       Margin="15">
                    <Image.Effect>
                        <DropShadowEffect Color="Black" BlurRadius="12" ShadowDepth="5" Opacity="0.6"/>
                    </Image.Effect>
                </Image>
                
                <!-- Case Card: CAUSE OF DEATH -->
                <Image x:Name="CaseCard_CauseOfDeath"
                       Source="GUI/Cards/ACC_CARD_CAUSE OF DEATH.png"
                       Width="180"
                       Margin="15">
                    <Image.Effect>
                        <DropShadowEffect Color="Black" BlurRadius="12" ShadowDepth="5" Opacity="0.6"/>
                    </Image.Effect>
                </Image>
                
                <!-- Case Card: TIME AND PLACE -->
                <Image x:Name="CaseCard_TimePlace"
                       Source="GUI/Cards/ACC_CARD_TIME AND PLACE.png"
                       Width="180"
                       Margin="15">
                    <Image.Effect>
                        <DropShadowEffect Color="Black" BlurRadius="12" ShadowDepth="5" Opacity="0.6"/>
                    </Image.Effect>
                </Image>
                
                <!-- Case Card: MEANS -->
                <Image x:Name="CaseCard_Means"
                       Source="GUI/Cards/ACC_CARD_MEANS.png"
                       Width="180"
                       Margin="15">
                    <Image.Effect>
                        <DropShadowEffect Color="Black" BlurRadius="12" ShadowDepth="5" Opacity="0.6"/>
                    </Image.Effect>
                </Image>
                
                <!-- Case Card: MOTIVE -->
                <Image x:Name="CaseCard_Motive"
                       Source="GUI/Cards/ACC_CARD_MOTIVE.png"
                       Width="180"
                       Margin="15">
                    <Image.Effect>
                        <DropShadowEffect Color="Black" BlurRadius="12" ShadowDepth="5" Opacity="0.6"/>
                    </Image.Effect>
                </Image>
                
                <!-- Case Card: SUSPECT -->
                <Image x:Name="CaseCard_Suspect"
                       Source="GUI/Cards/ACC_CARD SUSPECT.png"
                       Width="180"
                       Margin="15">
                    <Image.Effect>
                        <DropShadowEffect Color="Black" BlurRadius="12" ShadowDepth="5" Opacity="0.6"/>
                    </Image.Effect>
                </Image>
            
            </StackPanel>
        </Canvas>
        
        <!-- HUD hint at bottom (fixed, doesn't pan/zoom) -->
        <TextBlock Text="[C] Close Caseboard    [N] Add Note    [Scroll] Zoom    [Drag] Pan"
                   FontSize="16"
                   Foreground="#FFFFFF00"
                   HorizontalAlignment="Center"
                   VerticalAlignment="Bottom"
                   Margin="0,0,0,30"
                   FontFamily="Verdana"/>
        
        <!-- Debug info (fixed, top-left corner) -->
        <TextBlock x:Name="CaseboardDebugText"
                   Text="Board: (0, 0)  Zoom: 1.00x"
                   FontSize="14"
                   FontWeight="Normal"
                   Foreground="#FF00FF00"
                   Background="#AA000000"
                   HorizontalAlignment="Left"
                   VerticalAlignment="Top"
                   Margin="10,10,0,0"
                   Padding="8,4"
                   FontFamily="Consolas">
            <TextBlock.Effect>
                <DropShadowEffect ShadowDepth="0" BlurRadius="0"/>
            </TextBlock.Effect>
        </TextBlock>
        
    </Grid>

    <!-- Camera/Photography Panel (shown when P is pressed during gameplay) -->
    <Grid x:Name="CameraPanel"
          HorizontalAlignment="Stretch"
          VerticalAlignment="Stretch"
          Visibility="Collapsed">
        
        <!-- Viewfinder overlay frame -->
        <Grid>
            <!-- Darkened edges (vignette effect) -->
            <Border BorderThickness="80" BorderBrush="#60000000"/>
            
            <!-- Viewfinder grid lines (rule of thirds) -->
            <Canvas>
                <!-- Vertical lines (1/3 and 2/3) -->
                <Rectangle x:Name="ViewfinderVLine1" 
                           Width="1" Fill="#40FFFFFF"
                           Height="{Binding ActualHeight, RelativeSource={RelativeSource AncestorType=Grid}}"/>
                <Rectangle x:Name="ViewfinderVLine2" 
                           Width="1" Fill="#40FFFFFF"
                           Height="{Binding ActualHeight, RelativeSource={RelativeSource AncestorType=Grid}}"/>
                <!-- Horizontal lines (1/3 and 2/3) -->
                <Rectangle x:Name="ViewfinderHLine1" 
                           Height="1" Fill="#40FFFFFF"
                           Width="{Binding ActualWidth, RelativeSource={RelativeSource AncestorType=Grid}}"/>
                <Rectangle x:Name="ViewfinderHLine2" 
                           Height="1" Fill="#40FFFFFF"
                           Width="{Binding ActualWidth, RelativeSource={RelativeSource AncestorType=Grid}}"/>
            </Canvas>
            
            <!-- Corner brackets (vintage camera viewfinder style) -->
            <Canvas>
                <!-- Top-Left corner -->
                <Path Stroke="#CCFFFFFF" StrokeThickness="3" Data="M 100,60 L 60,60 L 60,100"/>
                <!-- Top-Right corner -->
                <Path x:Name="ViewfinderCornerTR" Stroke="#CCFFFFFF" StrokeThickness="3"/>
                <!-- Bottom-Left corner -->
                <Path x:Name="ViewfinderCornerBL" Stroke="#CCFFFFFF" StrokeThickness="3"/>
                <!-- Bottom-Right corner -->
                <Path x:Name="ViewfinderCornerBR" Stroke="#CCFFFFFF" StrokeThickness="3"/>
            </Canvas>
            
            <!-- Center focus indicator (small cross) -->
            <Canvas HorizontalAlignment="Center" VerticalAlignment="Center" Width="40" Height="40" Margin="-20,-20,0,0">
                <Rectangle Canvas.Left="19" Canvas.Top="5" Width="2" Height="12" Fill="#AAFFFFFF"/>
                <Rectangle Canvas.Left="19" Canvas.Top="23" Width="2" Height="12" Fill="#AAFFFFFF"/>
                <Rectangle Canvas.Left="5" Canvas.Top="19" Width="12" Height="2" Fill="#AAFFFFFF"/>
                <Rectangle Canvas.Left="23" Canvas.Top="19" Width="12" Height="2" Fill="#AAFFFFFF"/>
                <Ellipse Canvas.Left="12" Canvas.Top="12" Width="16" Height="16" 
                         Stroke="#80FFFFFF" StrokeThickness="1"/>
            </Canvas>
        </Grid>
        
        <!-- Shutter animation bars (top and bottom black rectangles) -->
        <Rectangle x:Name="ShutterBarTop"
                   Fill="Black"
                   HorizontalAlignment="Stretch"
                   VerticalAlignment="Top"
                   Height="0"/>
        <Rectangle x:Name="ShutterBarBottom"
                   Fill="Black"
                   HorizontalAlignment="Stretch"
                   VerticalAlignment="Bottom"
                   Height="0"/>
        
        <!-- HUD hint at bottom -->
        <TextBlock Text="[P] Exit Camera    [Click/Space] Take Photo"
                   FontSize="16"
                   Foreground="#FFFFFF00"
                   HorizontalAlignment="Center"
                   VerticalAlignment="Bottom"
                   Margin="0,0,0,30"
                   FontFamily="Verdana">
            <TextBlock.Effect>
                <DropShadowEffect Color="Black" BlurRadius="4" ShadowDepth="2" Opacity="0.8"/>
            </TextBlock.Effect>
        </TextBlock>
        
        <!-- Photo counter/info (top-right) -->
        <StackPanel HorizontalAlignment="Right" VerticalAlignment="Top" Margin="0,20,20,0">
            <TextBlock x:Name="CameraPhotoCount"
                       Text="PHOTOS: 0"
                       FontSize="14"
                       FontWeight="Normal"
                       Foreground="#FFFFCC00"
                       FontFamily="Consolas">
                <TextBlock.Effect>
                    <DropShadowEffect Color="Black" BlurRadius="3" ShadowDepth="1" Opacity="0.9"/>
                </TextBlock.Effect>
            </TextBlock>
        </StackPanel>
        
    </Grid>

</Grid>
